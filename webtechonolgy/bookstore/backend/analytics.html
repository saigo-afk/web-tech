<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics - BookStore Admin</title>
    <link rel="stylesheet" href="admin-style.css">
</head>
<body>
    <!-- Admin Header -->
    <header class="admin-header">
        <div class="admin-header-content">
            <h1>üìö BookStore Admin Dashboard</h1>
            <div class="admin-user-menu">
                <span id="adminUsername">Admin</span>
                <button class="btn btn-logout" onclick="logout()">Logout</button>
            </div>
        </div>
    </header>

    <!-- Admin Navigation -->
    <nav class="admin-nav">
        <ul>
            <li><a href="dashboard.html">Dashboard</a></li>
            <li><a href="manage-books.html">Manage Books</a></li>
            <li><a href="manage-users.html">Manage Users</a></li>
            <li><a href="manage-reading-lists.html">Reading Lists</a></li>
            <li><a href="analytics.html" class="active">Analytics</a></li>
            <li><a href="settings.html">Settings</a></li>
        </ul>
    </nav>

    <!-- Admin Main Content -->
    <main class="admin-main">
        <div class="admin-container">
            <h2>Platform Analytics</h2>

            <!-- Date Range Filter -->
            <div class="admin-filters">
                <label>Date Range:</label>
                <input type="date" id="startDate">
                <span>to</span>
                <input type="date" id="endDate">
                <button class="btn btn-primary" onclick="filterAnalytics()">Apply Filter</button>
            </div>

            <!-- Key Statistics -->
            <section class="admin-section">
                <h3>Key Metrics</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h4>üìñ Total Books Read</h4>
                        <p class="stat-value">1,247</p>
                        <p class="stat-change">+12% from last month</p>
                    </div>
                    <div class="stat-card">
                        <h4>üë• Active Users</h4>
                        <p class="stat-value">342</p>
                        <p class="stat-change">+8% from last month</p>
                    </div>
                    <div class="stat-card">
                        <h4>‚≠ê Avg Rating</h4>
                        <p class="stat-value">4.7/5</p>
                        <p class="stat-change">Excellent</p>
                    </div>
                    <div class="stat-card">
                        <h4>üìö Books Added</h4>
                        <p class="stat-value">34</p>
                        <p class="stat-change">+3 this week</p>
                    </div>
                </div>
            </section>

            <!-- User Engagement -->
            <section class="admin-section">
                <h3>User Engagement</h3>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>This Week</th>
                            <th>Last Week</th>
                            <th>Change</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>New Users</td>
                            <td>45</td>
                            <td>38</td>
                            <td><span class="status-badge success">+18%</span></td>
                        </tr>
                        <tr>
                            <td>Reading Sessions</td>
                            <td>1,234</td>
                            <td>1,098</td>
                            <td><span class="status-badge success">+12%</span></td>
                        </tr>
                        <tr>
                            <td>Books Added to List</td>
                            <td>456</td>
                            <td>389</td>
                            <td><span class="status-badge success">+17%</span></td>
                        </tr>
                        <tr>
                            <td>Reading Completed</td>
                            <td>87</td>
                            <td>72</td>
                            <td><span class="status-badge success">+21%</span></td>
                        </tr>
                        <tr>
                            <td>User Retention</td>
                            <td>78%</td>
                            <td>75%</td>
                            <td><span class="status-badge success">+3%</span></td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <!-- Category Performance -->
            <section class="admin-section">
                <h3>Popular Categories</h3>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>Category</th>
                            <th>Books</th>
                            <th>Times Read</th>
                            <th>Avg Rating</th>
                            <th>Popularity</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="category-badge fiction">Fiction</span></td>
                            <td>15</td>
                            <td>456</td>
                            <td>4.8/5</td>
                            <td><div style="width: 100%; background: linear-gradient(90deg, #3498db 100%, #ecf0f1 0%); height: 20px; border-radius: 5px;"></div></td>
                        </tr>
                        <tr>
                            <td><span class="category-badge non-fiction">Non-Fiction</span></td>
                            <td>12</td>
                            <td>378</td>
                            <td>4.6/5</td>
                            <td><div style="width: 85%; background: linear-gradient(90deg, #3498db 85%, #ecf0f1 0%); height: 20px; border-radius: 5px;"></div></td>
                        </tr>
                        <tr>
                            <td><span class="category-badge mystery">Mystery</span></td>
                            <td>8</td>
                            <td>245</td>
                            <td>4.7/5</td>
                            <td><div style="width: 55%; background: linear-gradient(90deg, #3498db 55%, #ecf0f1 0%); height: 20px; border-radius: 5px;"></div></td>
                        </tr>
                        <tr>
                            <td><span class="category-badge romance">Romance</span></td>
                            <td>10</td>
                            <td>168</td>
                            <td>4.5/5</td>
                            <td><div style="width: 38%; background: linear-gradient(90deg, #3498db 38%, #ecf0f1 0%); height: 20px; border-radius: 5px;"></div></td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <!-- Top Books -->
            <section class="admin-section">
                <h3>Top 5 Most Read Books</h3>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Book Title</th>
                            <th>Author</th>
                            <th>Times Read</th>
                            <th>Avg Rating</th>
                            <th>Completion Rate</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ü•á</td>
                            <td>The Great Gatsby</td>
                            <td>F. Scott Fitzgerald</td>
                            <td>127</td>
                            <td>‚≠ê 4.9/5</td>
                            <td>89%</td>
                        </tr>
                        <tr>
                            <td>ü•à</td>
                            <td>1984</td>
                            <td>George Orwell</td>
                            <td>114</td>
                            <td>‚≠ê 4.7/5</td>
                            <td>82%</td>
                        </tr>
                        <tr>
                            <td>ü•â</td>
                            <td>To Kill a Mockingbird</td>
                            <td>Harper Lee</td>
                            <td>98</td>
                            <td>‚≠ê 4.8/5</td>
                            <td>85%</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>Pride and Prejudice</td>
                            <td>Jane Austen</td>
                            <td>87</td>
                            <td>‚≠ê 4.6/5</td>
                            <td>78%</td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>Sapiens</td>
                            <td>Yuval Noah Harari</td>
                            <td>76</td>
                            <td>‚≠ê 4.5/5</td>
                            <td>71%</td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </div>
    </main>

    <!-- Admin Footer -->
    <footer class="admin-footer">
        <p>&copy; 2024 BookStore Admin Panel. All rights reserved.</p>
    </footer>

    <style>
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .stat-card {
            background: #34495e;
            border-left: 4px solid #3498db;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .stat-card h4 {
            margin: 0 0 10px 0;
            color: #ecf0f1;
            font-size: 16px;
        }

        .stat-value {
            font-size: 32px;
            font-weight: bold;
            color: #3498db;
            margin: 10px 0;
        }

        .stat-change {
            color: #bdc3c7;
            font-size: 14px;
            margin: 5px 0 0 0;
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>

    <script>
        // Check if admin is logged in
        function checkAdminLogin() {
            if (!localStorage.getItem('adminLoggedIn')) {
                window.location.href = 'admin-login.html';
            } else {
                document.getElementById('adminUsername').textContent = 
                    localStorage.getItem('adminUsername') || 'Admin';
            }
        }

        function logout() {
            localStorage.removeItem('adminLoggedIn');
            localStorage.removeItem('adminUsername');
            window.location.href = 'admin-login.html';
        }

        function filterAnalytics() {
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;
            if (startDate && endDate) {
                alert('‚úÖ Analytics filtered from ' + startDate + ' to ' + endDate);
            }
        }

        window.addEventListener('load', checkAdminLogin);
    </script>
</body>
</html>
